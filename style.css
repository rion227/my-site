html, body{
  height:100%;
  margin:0;
  background:#fff;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", sans-serif;
}

.stage{
  min-height:100dvh;
  display:grid;
  place-items:center;
  padding:12px;
  box-sizing:border-box;
}

.card-wrap{
  position:relative;
  display:inline-block;

  /* ★JSが画像の表示サイズをここへ反映 */
  --card-w: 300px;
  --card-h: 500px;
}

.card{
  display:block;
  max-width: calc(100vw - 24px);
  max-height: calc(100dvh - 24px);
  width:auto;
  height:auto;
}

/* =========================
   時刻（画像に追従 & 端末でサイズブレしない）
   ========================= */
#clock{
  position:absolute;
  left:50%;
  transform:translateX(-50%);

  /* ★位置：画像の高さに対して下から何% */
  bottom: calc(var(--card-h) * 0.012);

  color:rgba(255,255,255,0.92);

  /* ★サイズ：画像の幅に比例（スマホ拡大等で変わりにくい） */
  font-size: calc(var(--card-w) * 0.036);

  font-weight: 300;
  letter-spacing: 0.4px;
  text-shadow: none;
  pointer-events:none;
  white-space:nowrap;
}

/* 点滅（必要ならscript.jsで付け外し） */
#clock.is-blinking{
  animation: clockBlink 0.9s ease-in-out;
}
@keyframes clockBlink{
  0%, 100% { opacity: 1; }
  30% { opacity: 0.45; }
}

/* PCだけほんの少し詰める */
@media (min-width: 900px){
  #clock{
    letter-spacing: 0.2px;
  }
}

/* =========================
   顔写真だけ「キラーン」エフェクト
   ========================= */
/*
  ★ここが写真の範囲（%）：
  ズレたらここを微調整してね

  左:   --photo-left
  上:   --photo-top
  幅:   --photo-w
  高さ: --photo-h
*/
.card-wrap{
  --photo-left: 0.17;  /* ←少し左へ */
  --photo-top:  0.075;  /* ←少し上へ */
  --photo-w:    0.65;  /* ←横幅を少し縮める */
  --photo-h:    0.28;  /* ←縦を少し縮める */
}

.photo-shine{
  position:absolute;
  left: calc(var(--card-w) * var(--photo-left));
  top:  calc(var(--card-h) * var(--photo-top));
  width:  calc(var(--card-w) * var(--photo-w));
  height: calc(var(--card-h) * var(--photo-h));
  overflow:hidden;
  pointer-events:none;
  border-radius: 0px;

  outline: 2px solid red;     /* ←消したければこの1行を削除 */
  outline-offset: -2px;
  
}

/* 斜めの光の膜 */
.photo-shine::before{
  content:"";
  position:absolute;
  top:-40%;
  left:-80%;
  width:70%;       /* 少し太く */
  height:200%;
  transform: rotate(25deg);
  opacity:0;

  /* ★濃くする（真ん中の白を強める） */
  background: linear-gradient(
    to right,
    rgba(255,255,255,0.00) 0%,
    rgba(255,255,255,0.22) 25%,
    rgba(255,255,255,0.70) 50%, /* ←ここを濃く */
    rgba(255,255,255,0.22) 75%,
    rgba(255,255,255,0.00) 100%
  );

  /* ★2秒に1回発動（全体2s）、その中で1.3sかけて流す */
  animation: shineCycle 2s linear infinite;
}

@keyframes shineCycle{
  /* 0%〜65%（=約1.3秒）で左→右へ流す */
  0%   { transform: translateX(-140%) rotate(25deg); opacity:0; }
  6%   { opacity:0.55; } /* すぐ見えるように */
  65%  { transform: translateX(240%) rotate(25deg); opacity:0.55; }

  /* 残り0.7秒は消えて待機 */
  66%  { opacity:0; }
  100% { transform: translateX(240%) rotate(25deg); opacity:0; }
}

/* デバッグ表示（普段は見えない） */
.img-error{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  background:rgba(0,0,0,0.7);
  color:#fff;
  padding:10px 12px;
  border-radius:8px;
  font-size:12px;
  max-width:90%;
  word-break:break-all;
}
